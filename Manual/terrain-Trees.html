<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="树 - Unity 手册">
<title>树 - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2019.1/uploads/Main/TerrainWithTrees.jpg">
<meta name="description" content="You can paint Trees onto a Terrain in a way that is similar to painting heightmaps and Textures. However, Trees are solid 3D objects that grow from the surface. Unity uses optimizations like billboarding for distant Trees to maintain good rendering performance. This means that you can have dense forests with thousands of Trees, and still keep an acceptable frame rate.">
<meta property="og:description" content="You can paint Trees onto a Terrain in a way that is similar to painting heightmaps and Textures. However, Trees are solid 3D objects that grow from the surface. Unity uses optimizations like billboarding for distant Trees to maintain good rendering performance. This means that you can have dense forests with thousands of Trees, and still keep an acceptable frame rate.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'terrain-Trees';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2020.1',version_string: '2020.1'},{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2019.1/Manual/terrain-Trees.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.1/Manual/terrain-Trees.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.1/Manual/terrain-Trees.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.1/Manual/terrain-Trees.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.1/Manual/terrain-Trees.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2019.1/Manual/terrain-Trees.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2019.1/Documentation/Manual/terrain-Trees.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/terrain-Trees.html">2020.1</a></li>
<li><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/terrain-Trees.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/terrain-Trees.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/terrain-Trees.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/terrain-Trees.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/terrain-Trees.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/terrain-Trees.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/terrain-Trees.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/terrain-Trees.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/terrain-Trees.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/terrain-Trees.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/terrain-Trees.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/cn/560/Manual/terrain-Trees.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.1/Documentation/Manual/terrain-Trees.html">English</a></li>
<li><a data-lang="ja" href="/ja/2019.1/Manual/terrain-Trees.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.1/Manual/terrain-Trees.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.1/Manual/terrain-Trees.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2019.1/Manual/terrain-Trees.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/terrain-Trees.html">2020.1</a></li>
<li><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/terrain-Trees.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/terrain-Trees.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/terrain-Trees.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/terrain-Trees.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/terrain-Trees.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/terrain-Trees.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/terrain-Trees.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/terrain-Trees.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/terrain-Trees.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/terrain-Trees.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/terrain-Trees.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/cn/560/Manual/terrain-Trees.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.1)</a></li>
<li><a href="Graphics.html">图形</a></li>
<li><a href="GraphicsOverview.html">图形概述</a></li>
<li><a href="script-Terrain.html">地形引擎</a></li>
<li>树</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-Brush.html"></a></span><div class="tip">画笔</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SpeedTree.html"></a></span><div class="tip">SpeedTree</div>
</div>
</div></div>
<h1>树</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>You can paint Trees onto a Terrain in a way that is similar to painting heightmaps and Textures. However, Trees are solid 3D objects that grow from the surface. Unity uses optimizations like billboarding for distant Trees to maintain good rendering performance. This means that you can have dense forests with thousands of Trees, and still keep an acceptable frame rate.</p>

<figure>
<img src="../uploads/Main/TerrainWithTrees.jpg" alt="有树的地形">
<figcaption>有树的地形</figcaption>
</figure>

<h2>绘制树</h2>

<p>工具栏上的 <strong>Paint Trees</strong> 按钮可用于绘制树：</p>

<figure>
<img src="../uploads/Main/TerrainTreePaintTool.png" alt="Paint Trees 按钮">
<figcaption>Paint Trees 按钮</figcaption>
</figure>

<p>Initially, the Terrain has no tree prototypes available. To start painting onto the Terrain, you need to add a tree prototype. Click the <strong>Edit Trees</strong> button, and select <strong>Add Tree</strong>. From here, you can select a Tree Asset from your Project, and add it as a <strong>Tree Prefab</strong> for use with the Brush:</p>

<figure>
<img src="../uploads/Main/TerrainTreeAddWindow.png" alt="Add Tree 窗口">
<figcaption>Add Tree 窗口</figcaption>
</figure>

<p>为便于进行原型设计，SpeedTree 在 Asset Store 上的<a href="https://assetstore.unity.com/packages/3d/vegetation/speedtree/free-speedtrees-package-29170">免费 SpeedTrees 包</a> 中提供了四种 SpeedTree 模型。或者，您也可以创建自己的树。</p>

<p>如果所导入的树预制件支持 <strong>Bend Factor__，__Add Tree</strong> 窗口将显示用于调整风响应性的 <strong>Bend Factor</strong> 属性。SpeedTree Modeler 创建的树没有 __Bend Factor__；只有 Tree Editor 创建的树才有。请参阅下文关于__让树在风中弯曲__的部分。</p>

<p>配置 <strong>Settings</strong> 中的设置（如下文所述）后，可以按照与绘制纹理或高度贴图相同的方法在地形上绘制树。若要从区域中移除树，请在绘制时按住 Shift 键。若要仅移除当前选定的树类型，请在绘制时按住 Control 键。</p>

<h2>设置</h2>

<p>选择要放置的树之后，可调整其设置以便自定义树的位置和特征。</p>

<figure>
<img src="../uploads/Main/TerrainTreePropertiesWindow.jpg" alt="树的设置">
<figcaption>树的设置</figcaption>
</figure>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>属性</strong></th>
	<th style="text-align:left;"><strong>功能</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Mass Place Trees</strong></td>
	<td style="text-align:left;">创建一批整体覆盖的树，但不绘制在整个地形上。批量放置树后，仍然可以使用绘制功能来添加或移除树，从而创建更密集或更稀疏的区域。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Brush Size</strong></td>
	<td style="text-align:left;">控制可添加树的区域的大小。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Tree Density</strong></td>
	<td style="text-align:left;">
<strong>Tree Density</strong> 控制 <strong>Brush Size</strong> 定义的区域中绘制的树平均数量。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Tree Height</strong></td>
	<td style="text-align:left;">使用滑动条来控制树的最小高度和最大高度。将滑动条向左拖动绘制矮树，向右拖动绘制高树。如果取消选中 <strong>Random</strong>，可以将所有新树的确切高度比例指定为 0.01 到 2 的范围内。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Lock Width to Height</strong></td>
	<td style="text-align:left;">默认情况下，树宽度与其高度锁定，因此始终会均匀缩放树。然而，可以禁用 <strong>Lock Width to Height</strong> 选项，然后单独指定宽度。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Tree Width</strong></td>
	<td style="text-align:left;">如果树宽度未与其高度锁定，则可以使用滑动条来控制树的最小宽度和最大宽度。将滑动条向左拖动绘制细树，向右拖动绘制粗树。如果取消选中 <strong>Random</strong>，可以将所有新树的确切宽度比例指定为 0.01 到 2 的范围内。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Random Tree Rotation</strong></td>
	<td style="text-align:left;">如果为树配置 LOD 组，请使用 <strong>Random Tree Rotation</strong> 设置来帮助创建随机自然的森林效果，而不是人工种植的完全相同的树。如果要以相同的固定旋转来放置树，请取消选中此选项。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Color Variation</strong></td>
	<td style="text-align:left;">应用于树的随机着色量。仅在着色器读取 <code>_TreeInstanceColor</code> 属性时有效。例如，用 Tree Editor 创建的所有树的着色器将读取 <code>_TreeInstanceColor</code> 属性。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Tree <span class="no tooltip">Lightmap</span> Static</strong></td>
	<td style="text-align:left;">Enable this check box to indicate to Unity that the GameObject’s location is fixed, and that it will participate in Global Illumination computations. If a GameObject is not marked as Lightmap Static, you can still light it with Light Probes.</td>
</tr>
</tbody>
</table>

<h2>创建树</h2>

<p>可通过两种方法来新建树模型。可以使用 IDV, Inc. 提供的 <a href="https://store.speedtree.com/unity/">SpeedTree Modeler</a> 来创建具有高级视觉效果（例如，平滑的 LOD 过渡、快速公告牌以及自然风动画）的树。有关更多详细信息，请参阅 <a href="http://docs8.speedTree.com/">SpeedTree Modeler 文档</a>。或者，也可以使用 Unity 的 <a href="class-Tree.html">Tree Editor</a> 来创建树模型。</p>

<p>在内部，地形引擎通过确定树预制件的根游戏对象上是否存在 <a href="class-LODGroup.html">LOD 组</a>来区分这两种类型的模型。SpeedTree 预制件具有 <em>LODGroup</em> 组件，但 Tree Editor 预制件没有该组件。</p>

<p>创建树时，将锚点定位在树的基部（树破土而出的位置）。性能取决于树模型的多边形数，因此请确保在平台上进行测试，并在必要时创建更简单的树。另外，对于 Tree Editor 树，每个网格都正好有两种材质：一种用于树体，另一种用于树叶。</p>

<p>用 Tree Editor 创建的树必须使用__自然/软遮挡树叶 (Nature/Soft Occlusion Leaves)__ 和__自然/软遮挡树皮 (Nature/Soft Occlusion Bark)__ 着色器。要使用这些着色器，必须将树放在名为 <em>Ambient-Occlusion</em> 的特定文件夹中，否则树无法正确渲染。将模型放入此文件夹并将其重新导入时，Unity 会使用一种专为树设计的方式计算软__环境光遮挡__。</p>

<p>如果在单独的 3D 建模应用程序中更改导入的树资源，则需要单击 Editor 中的 <strong>Refresh</strong> 按钮来查看地形上更新后的树：</p>

<figure>
<img src="../uploads/Main/TerrainTreesRefresh.png" alt="Refresh 按钮位置">
<figcaption>Refresh 按钮位置</figcaption>
</figure>

<p><strong>注意：</strong>在 3D 建模程序中导入并改变 SpeedTree 模型后，再将其重新导出（扩展名为 <code>.fbx</code> 或 <code>.obj</code>），可能会丢失 SpeedTree 模型附带的自然风动画功能。</p>

<h2>将碰撞体用于树</h2>

<p>可以将<a href="class-CapsuleCollider.html">胶囊碰撞体 (Capsule Collider)</a> 添加到新的树资源。首先，将预制件从 Assets 文件夹拖动到场景中，从而实例化场景中的树。然后，使用菜单 <strong>Component</strong> &gt; <strong>Physics</strong> &gt; <strong>Capsule Collider</strong> 来添加碰撞体。下一步，可以执行以下操作之一：</p>

<ul>
<li><p>覆盖原始预制件：单击 Inspector 窗口中的 Tree 游戏对象上的 <strong>Apply</strong> 按钮：<br><br><img src="../uploads/Main/TerrainTreesUsingCollidersWithTrees.png" alt=""></p></li>
<li><p>新建预制件：将 Tree 游戏对象拖入 <em>Assets</em> 文件夹。</p></li>
</ul>

<p>如果新建预制件，请确保将带有碰撞体的树添加到地形，而不是添加原始的游戏对象。还必须在地形的 Terrain Collider 组件中启用 <strong>Create Tree Colliders</strong> 设置。</p>

<h2>让树在风中弯曲</h2>

<p>本节仅适用于 Unity 的 Tree Editor 创建的树（具有 __Bend Factor__）。</p>

<p>要让树对风做出反应，首先选择 <strong>GameObject</strong> &gt; <strong>3D Object</strong> &gt; <strong>Wind Zone</strong> 来创建 <strong>Wind Zone</strong>。</p>

<p>为了确保将树设置为可以弯曲，请选择__地形__，单击 <strong>Inspector</strong> 中的 <strong>Place Trees</strong> 按钮，然后选择 <strong>Edit Trees</strong> &gt; <strong>Edit Tree</strong>。如果尚未将 <strong>Bend Factor</strong> 设置为 1，请进行此设置。</p>

<p>在默认设置下，树的移动非常剧烈。为了修复此问题，请更改每个树类型的 <strong>Bend Factor</strong>。如果希望一些树类型比其他树类型具有更大的弯曲度，此设置会很有用。若要更改整个 <strong>Wind Zone</strong> 中的弯曲效果，请直接配置 <strong>Wind Zone</strong> 组件中的值。为了减少树叶的飘动效果，请将风的湍流度下调到 0.1–0.3 左右，然后一切就会变得更平稳。如果不希望树始终吹向一边，而是希望有一些变化，请将 <strong>Main</strong> 值减小到与湍流度的值相同。</p>

<h2>树细节级别 (LOD) 过渡区</h2>

<p>对于 Tree Editor 树，Unity 的 LOD 系统使用 2D 到 3D 过渡区将 2D 公告牌与 3D 树模型进行无缝混合。这样可以防止 2D 和 3D 树显得过于突兀，这一点在 VR 中至关重要。</p>

<p>对于 SpeedTree 树，请参阅 <a href="LevelOfDetail.html">LOD</a> 和 <a href="class-LODGroup.html">LOD 组 (LOD Group)</a> 文档以了解关于配置 LOD 组件的更多信息。</p>

<hr>

<ul>
<li><p><span class="page-edit">2019–04–19 页面已修订但未经<a href="DocumentationEditorialReview.html">编辑审查</a>
</span></p></li>
<li><p><span class="page-history">Updated screenshot to match new UI</span></p></li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-Brush.html"></a></span><div class="tip">画笔</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="SpeedTree.html"></a></span><div class="tip">SpeedTree</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2019 Unity Technologies. Publication 2019.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
