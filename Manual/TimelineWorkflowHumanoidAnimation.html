<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="Animating a humanoid - Unity 手册">
<title>Animating a humanoid - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2019.1/uploads/Main/timeline_humanoid_start.png">
<meta name="description" content="This task demonstrates how to use a Timeline instance to animate a humanoid with external motion clips. This workflow also demonstrates how to match clip offsets, manually adjust clip offsets, and create blends between clips to minimize jumping and sliding. Although this workflow uses a humanoid, you can use this animation method for any GameObject.">
<meta property="og:description" content="This task demonstrates how to use a Timeline instance to animate a humanoid with external motion clips. This workflow also demonstrates how to match clip offsets, manually adjust clip offsets, and create blends between clips to minimize jumping and sliding. Although this workflow uses a humanoid, you can use this animation method for any GameObject.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'TimelineWorkflowHumanoidAnimation';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2020.1',version_string: '2020.1'},{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2019.1/Documentation/Manual/TimelineWorkflowHumanoidAnimation.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/TimelineWorkflowHumanoidAnimation.html">2020.1</a></li>
<li><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/TimelineWorkflowHumanoidAnimation.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/TimelineWorkflowHumanoidAnimation.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/TimelineWorkflowHumanoidAnimation.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/TimelineWorkflowHumanoidAnimation.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/TimelineWorkflowHumanoidAnimation.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/TimelineWorkflowHumanoidAnimation.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/TimelineWorkflowHumanoidAnimation.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/TimelineWorkflowHumanoidAnimation.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/TimelineWorkflowHumanoidAnimation.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/TimelineWorkflowHumanoidAnimation.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/cn/560/Manual/TimelineWorkflowHumanoidAnimation.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.1/Documentation/Manual/TimelineWorkflowHumanoidAnimation.html">English</a></li>
<li><a data-lang="ja" href="/ja/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/TimelineWorkflowHumanoidAnimation.html">2020.1</a></li>
<li><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/TimelineWorkflowHumanoidAnimation.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/TimelineWorkflowHumanoidAnimation.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/TimelineWorkflowHumanoidAnimation.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/TimelineWorkflowHumanoidAnimation.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/TimelineWorkflowHumanoidAnimation.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/TimelineWorkflowHumanoidAnimation.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/TimelineWorkflowHumanoidAnimation.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/TimelineWorkflowHumanoidAnimation.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/TimelineWorkflowHumanoidAnimation.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/TimelineWorkflowHumanoidAnimation.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/TimelineWorkflowHumanoidAnimation.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/cn/560/Manual/TimelineWorkflowHumanoidAnimation.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.1)</a></li>
<li><a href="TimelineSection.html">时间轴</a></li>
<li><a href="TimelineWorkflows.html">Using the Timeline window </a></li>
<li>Animating a humanoid</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="TimelineWorkflowConvertingInfiniteClip.html"></a></span><div class="tip">Converting an Infinite clip to an Animation clip</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="TimelineWorkflowOverrideMasking.html"></a></span><div class="tip">Using Animation Override tracks and Avatar Masking</div>
</div>
</div></div>
<h1>Animating a humanoid</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>This task demonstrates how to use a Timeline instance to animate a humanoid with external motion clips. This workflow also demonstrates how to match clip offsets, manually adjust clip offsets, and create blends between clips to minimize jumping and sliding. Although this workflow uses a humanoid, you can use this animation method for any GameObject.</p>

<p>This workflow assumes that you have already created a Timeline instance with an empty Animation track bound to a humanoid. For example, the DefaultMale humanoid is bound to an empty Animation track:</p>

<figure>
<img src="../uploads/Main/timeline_humanoid_start.png" alt="DefaultMale humanoid bound to an empty Animation track.">
<figcaption>DefaultMale humanoid bound to an empty Animation track.</figcaption>
</figure>

<p>From your Project, drag a motion clip into the Animation track to create a new Animation clip. For example, drag an idle pose as the first clip to start the humanoid from an idle stance. </p>

<p>To position, resize, or trim your Animation clip in the Clips view, select <strong>Mix mode</strong> as the Clip Edit mode. There are <a href="TimelineClipsView.html">three different Clip Edit modes</a> that change the editing behaviour of the Timeline window. When the Timeline window is in <strong>Mix mode</strong>, you can drag and trim clips to create blends.</p>

<figure>
<img src="../uploads/Main/timeline_humanoid_idle.png" alt="Animation track, bound to the DefaultMale humanoid, with an idle pose (Idle) as its Animation clip. The Mix mode (red circle) is the selected Clip Edit mode.">
<figcaption>Animation track, bound to the DefaultMale humanoid, with an idle pose (Idle) as its Animation clip. The Mix mode (red circle) is the selected Clip Edit mode.</figcaption>
</figure>

<p>Add a second Animation clip. This example adds a run and turn left clip (named Run_Left) to the Animation track, and then resizes the clip to include one loop, so the DefaultMale runs and turns 180 degrees.</p>

<figure>
<img src="../uploads/Main/timeline_humanoid_runleft.png" alt="包含 Idle 剪辑和 Run_Left 剪辑的动画轨道">
<figcaption>包含 Idle 剪辑和 Run_Left 剪辑的动画轨道</figcaption>
</figure>

<p>Play the Timeline instance. In this example, the DefaultMale humanoid jumps between each Animation clip because the position of the humanoid at the end of the first Animation clip (Idle) does not match the position of the humanoid at the start of the next Animation clip (RunLeft).</p>

<figure>
<img src="../uploads/Main/timeline_humanoid_before_match.png" alt="The humanoid jumps between the first Animation clip, which ends at frame 29 (red arrow and box), and the second Animation clip, which starts at frame 30 (ghost with green arrow and box)">
<figcaption>The humanoid jumps between the first Animation clip, which ends at frame 29 (red arrow and box), and the second Animation clip, which starts at frame 30 (ghost with green arrow and box)</figcaption>
</figure>

<h2>Matching clips</h2>

<p>To fix the animation jump between clips, match the offset of each Animation clip. The Timeline window provides <a href="TimelineMatchOffsets.html">different methods for matching offsets</a>. In this example, Timeline matches the second Animation clip with the previous clip. To do this, select the Run_Left clip, right-click and select <strong>Match Offsets to Previous Clip</strong>.</p>

<figure>
<img src="../uploads/Main/timeline_humanoid_match_menu.png" alt="右键单击并选择 Match Offsets to Previous Clip 将所选动画剪辑的偏移与前一个动画剪辑的偏移进行匹配">
<figcaption>右键单击并选择 Match Offsets to Previous Clip 将所选动画剪辑的偏移与前一个动画剪辑的偏移进行匹配</figcaption>
</figure>

<figure>
<img src="../uploads/Main/timeline_humanoid_after_match.png" alt="After matching offsets, the position and rotation of the humanoid at the start of the second Animation clip (frame 30, ghost with green arrow) matches the position and rotation of the humanoid at the end of the first Animation clip (frame 29, red arrow)">
<figcaption>After matching offsets, the position and rotation of the humanoid at the start of the second Animation clip (frame 30, ghost with green arrow) matches the position and rotation of the humanoid at the end of the first Animation clip (frame 29, red arrow)</figcaption>
</figure>

<p>再次播放时间轴实例。虽然人形角色的位置和旋转匹配，但两个动画剪辑之间仍然存在跳跃，这是因为人形角色处于不同的姿势。在第一个动画剪辑的结尾，人形角色直立，双脚并拢。在第二个动画剪辑的开头，人形角色向前弯腰，双脚分开。</p>

<h2>Blending clips</h2>

<p><a href="TimelineBlendingClips.html">Create a blend</a> to remove the jump and transition between the two poses. Adjust the size of the clips, the Blend Area, the Clip In, and the shape of each Blend Curve to create a transition between the two poses. For example, in the transition between the Idle clip and the Run_Left clip, the Idle clip was resized to 36 frames and the Run_Left clip was repositioned to start at frame 25. The rest of the clip properties are unchanged from their default values.</p>

<figure>
<img src="../uploads/Main/timeline_humanoid_blend.png" alt="With Mix mode selected, you can create a blend (red circle) between two clips to create a smooth transition between two animations. ">
<figcaption>With Mix mode selected, you can create a blend (red circle) between two clips to create a smooth transition between two animations. </figcaption>
</figure>

<p>As the Idle clip transitions to the Run_Left clip, the blend removes the obvious jump between poses. The transition between most body parts appears natural, however in this example, the blend between the different positions of the foot results in an unnatural foot slide.</p>

<h2>Reducing foot slide</h2>

<p>To reduce foot sliding, manually adjust the offset of an Animation clip so that the position of the foot changes less drastically. To manually adjust the offset, select the Animation clip in the Timeline window. In the Inspector window, expand <strong>Animation Playable Asset</strong>.</p>

<figure>
<img src="../uploads/Main/workflow_inspector_animation_clip_playable.png" alt="Select an Animation clip. In the Inspector window, expand Animation Playable Asset (red) to view the Clip Transform Offsets.">
<figcaption>Select an Animation clip. In the Inspector window, expand <strong>Animation Playable Asset</strong> (red) to view the <strong>Clip Transform Offsets</strong>.</figcaption>
</figure>

<p>The rotation and position <strong>Clip Transform Offsets</strong> are not zero because performing <strong>Match Offsets to Previous Clip</strong> already set these values to match the root (hips) of the humanoid at the end of the previous Animation clip.</p>

<p>Under <strong>Clip Transform Offsets</strong>, enable the Move tool. The Move Gizmo appears in the Scene view, at the root of the Animation clip. </p>

<figure>
<img src="../uploads/Main/timeline_humanoid_manual.png" alt="Enable the Move tool (Inspector window, red arrow) to show the Move Gizmo (green arrow) in the Scene view">
<figcaption>Enable the Move tool (Inspector window, red arrow) to show the Move Gizmo (green arrow) in the Scene view</figcaption>
</figure>

<p>Use one of the following methods to manually adjust the offset position of the Animation clip:</p>

<ul>
<li><p>In the Scene view, drag the Move Gizmo.</p></li>
<li><p>In the Inspector window, under <strong>Clip Transform Offsets</strong>, change the value of the appropriate <strong>Position</strong> property.</p></li>
</ul>

<hr>

<ul>
<li><span class="page-edit">2019–08–20 页面已发布并只进行了有限的<a href="DocumentationEditorialReview.html">编辑审查</a>
</span></li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="TimelineWorkflowConvertingInfiniteClip.html"></a></span><div class="tip">Converting an Infinite clip to an Animation clip</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="TimelineWorkflowOverrideMasking.html"></a></span><div class="tip">Using Animation Override tracks and Avatar Masking</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2019 Unity Technologies. Publication 2019.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
