<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="编写 UXML 模板 - Unity 手册">
<title>编写 UXML 模板 - Unity 手册</title>
<meta name="description" content="UXML 模板是使用 XML 标记编写的文本文件，用于定义用户界面的逻辑结构。以下代码示例演示了如何定义一个提示用户做出选择的简单面板：">
<meta property="og:description" content="UXML 模板是使用 XML 标记编写的文本文件，用于定义用户界面的逻辑结构。以下代码示例演示了如何定义一个提示用户做出选择的简单面板：">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UIE-WritingUXMLTemplate';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2020.1',version_string: '2020.1'},{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2019.1/Manual/UIE-WritingUXMLTemplate.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.1/Manual/UIE-WritingUXMLTemplate.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.1/Manual/UIE-WritingUXMLTemplate.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.1/Manual/UIE-WritingUXMLTemplate.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.1/Manual/UIE-WritingUXMLTemplate.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2019.1/Manual/UIE-WritingUXMLTemplate.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2019.1/Documentation/Manual/UIE-WritingUXMLTemplate.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-WritingUXMLTemplate.html">2020.1</a></li>
<li><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-WritingUXMLTemplate.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-WritingUXMLTemplate.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-WritingUXMLTemplate.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-WritingUXMLTemplate.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-WritingUXMLTemplate.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-WritingUXMLTemplate.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-WritingUXMLTemplate.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-WritingUXMLTemplate.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-WritingUXMLTemplate.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-WritingUXMLTemplate.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-WritingUXMLTemplate.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/cn/560/Manual/UIE-WritingUXMLTemplate.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.1/Documentation/Manual/UIE-WritingUXMLTemplate.html">English</a></li>
<li><a data-lang="ja" href="/ja/2019.1/Manual/UIE-WritingUXMLTemplate.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.1/Manual/UIE-WritingUXMLTemplate.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.1/Manual/UIE-WritingUXMLTemplate.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2019.1/Manual/UIE-WritingUXMLTemplate.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-WritingUXMLTemplate.html">2020.1</a></li>
<li><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-WritingUXMLTemplate.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-WritingUXMLTemplate.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-WritingUXMLTemplate.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-WritingUXMLTemplate.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-WritingUXMLTemplate.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-WritingUXMLTemplate.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-WritingUXMLTemplate.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-WritingUXMLTemplate.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-WritingUXMLTemplate.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-WritingUXMLTemplate.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-WritingUXMLTemplate.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/cn/560/Manual/UIE-WritingUXMLTemplate.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.1)</a></li>
<li><a href="UIToolkits.html">User interfaces (UI)</a></li>
<li><a href="UIElements.html">UIElements 开发者指南</a></li>
<li><a href="UIE-UXML.html">UXML 格式</a></li>
<li>编写 UXML 模板</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-UXML.html"></a></span><div class="tip">UXML 格式</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-LoadingUXMLcsharp.html"></a></span><div class="tip">Loading UXML from C#</div>
</div>
</div></div>
<h1>编写 UXML 模板</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>UXML 模板是使用 XML 标记编写的文本文件，用于定义用户界面的逻辑结构。以下代码示例演示了如何定义一个提示用户做出选择的简单面板：</p>

<pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;UXML
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="UnityEngine.UIElements"
    xsi:noNamespaceSchemaLocation="../UIElementsSchema/UIElements.xsd"
    xsi:schemaLocation="UnityEngine.UIElements ../UIElementsSchema/UnityEngine.UIElements.xsd"&gt;

    &lt;Label text="Select something to remove from your suitcase:"/&gt;
    &lt;Box&gt;
        &lt;Toggle name="boots" label="Boots" value="false" /&gt;
        &lt;Toggle name="helmet" label="Helmet" value="false" /&gt;
        &lt;Toggle name="cloak" label="Cloak of invisibility" value="false"/&gt;
    &lt;/Box&gt;
    &lt;Box&gt;
        &lt;Button name="cancel" text="Cancel" /&gt;
        &lt;Button name="ok" text="OK" /&gt;
    &lt;/Box&gt;
&lt;/UXML&gt;
</code></pre>

<p>The first line of the file is the XML declaration. The declaration is optional. If the declaration is included, it must be on the first line and no other content or white space may appear before it. The <code>version</code> attribute is required. The <code>encoding</code> attribute is optional. If <code>encoding</code> is included, it must declare the character encoding of the file.</p>

<p>The next line defines the document root, <code>&lt;UXML&gt;</code>. The <code>&lt;UXML&gt;</code> element includes attributes for the namespace prefix definitions and the location of schema definition files. You can specify these attributes in no partiular order.</p>

<p>In UIElements, each element is defined in either the <code>UnityEngine.UIElements</code> or the <code>UnityEditor.UIElements</code> namespace:</p>

<ul>
<li>The <code>UnityEngine.UIElements</code> namespace contains elements that are defined as part of the Unity Runtime.</li>
<li>The <code>UnityEditor.UIElements</code> namespace contains elements that are available in the Unity Editor. To fully specify an element, you must prefix it with its namespace.</li>
</ul>

<p>For example, if you want to use the <code>Button</code> element in your UXML template, you must specify <code>&lt;UnityEngine.UIElements:Button /&gt;</code>. </p>

<p>To make specifying namespaces easier, you can define a namespace prefix. For example, <code>xmlns:engine="UnityEngine.UIElements"</code> defines the <code>engine</code> prefix as <code>UnityEngine.UIElements</code>. Once a namespace prefix is defined, you can use it to specify namespaces. For example, <code>&lt;engine:Button /&gt;</code> is equivalent to <code>&lt;UnityEngine.UIElements:Button /&gt;</code></p>

<p>You can also define a default namespace by excluding a prefix. For example, the line <code>xmlns="UnityEngine.UIElements"</code> defines <code>UnityEngine.UIElements</code> as the default namespace. This means that specifying, for example, <code>&lt;Button /&gt;</code> is equivalent to <code>&lt;UnityEngine.UIElements:Button /&gt;</code> </p>

<p>如果是自行定义元素，这些元素可能在其自身的命名空间中定义。如果要在 UXML 模板中使用这些元素，则必须在 <code>&lt;UXML&gt;</code> 标签中包含命名空间定义和架构文件位置以及 Unity 命名空间。</p>

<p>When you create a new UXML template asset by selecting <strong>Asset</strong> &gt; <strong>Create</strong> &gt; <strong>UIElements Editor Window</strong>, the Editor automatically defines namespaces for you.</p>

<p>UI 的定义在 <code>&lt;UXML&gt;</code> 根中。UI 定义是一系列嵌套的 XML 元素，每个元素代表一个 <code>VisualElement</code>。</p>

<p>元素名称对应于要实例化的元素的 C# 类名。大多数元素都有属性，且属性的值映射到 C# 中相应的类属性。每个元素都继承其父类类型的属性，并可在父类类型的基础上添加自己的属性集。<code>VisualElement</code> 作为所有元素的基类，为所有元素提供以下属性：</p>

<ul>
<li>
<code>name</code>：元素的标识符。名称应具有唯一性。</li>
<li>
<code>picking-mode</code>: set to either <code>Position</code> to respond to mouse events or <code>Ignore</code> to ignore mouse events.</li>
<li>
<code>focus-index</code>: (<strong>OBSOLETE</strong>) Use <code>tabIndex</code> and <code>focusable</code>.</li>
<li>
<code>tabindex</code>: an integer that defines the tabbing position of the current element.</li>
<li>
<code>focusable</code>: a boolean indicating whether the element is focusable.</li>
<li>
<code>class</code>：用于表征元素的标识符的空格分隔列表。使用类为元素指定视觉样式。还可以使用类在 UQuery 中选择一组元素。</li>
<li>
<code>tooltip</code>：鼠标悬停在元素上方时显示为工具提示的字符串。</li>
<li>
<code>view-data-key</code> : a string that defines the key used for serialization of the element.</li>
</ul>

<p>The UXML template example does not define the visual aspect of the user interface. It is recommended that you define style information, such as the dimensions, fonts, and colors for drawing the UI, in a separate USS file (see <a href="UIE-USS.html">Styles and Unity style sheets</a>).</p>

<h2>重用 UXML</h2>

<p>可通过在 UXML 文件中定义组件的方式来创建组件，
并使用另一个 UXML 文件中的 <code>&lt;Template&gt;</code> 和 <code>&lt;Instance&gt;</code> 元素将组件导入。</p>

<p>在设计大型用户界面时，可以创建一些用于定义 UI 组成部分的模板 UXML 文件。</p>

<p>可能会在许多地方使用相同的 UI 定义。例如，假设有一个包含图像、名称和标签的纵向 UI 元素。可以创建一个 UXML 模板文件以便在其他 UXML 文件中重用此纵向 UI 元素。</p>

<p>例如，假设在 <code>Assets/Portrait.uxml</code> 文件中有一个 <em>Portrait</em> 组件：</p>

<pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;engine:UXML ...&gt;
    &lt;engine:VisualElement class="portrait"&gt;
        &lt;engine:Image name="portaitImage" image="a.png"/&gt;
        &lt;engine:Label name="nameLabel" text="Name"/&gt;
        &lt;engine:Label name="levelLabel" text="42"/&gt;
    &lt;/engine:VisualElement&gt;
&lt;/engine:UXML&gt;
</code></pre>

<p>可以将 <em>Portrait</em> 组件嵌入到其他 UXML 模板中，如下所示：</p>

<pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;engine:UXML ...&gt;
    &lt;engine:Template path="Assets/Portrait.uxml" name="Portrait"/&gt;
    &lt;engine:VisualElement name="players"&gt;
        &lt;engine:Instance template="Portrait" name="player1"/&gt;
        &lt;engine:Instance template="Portrait" name="player2"/&gt;
    &lt;/engine:VisualElement&gt;
&lt;/engine:UXML&gt;
</code></pre>

<hr>

<ul>
<li><span class="page-edit">2018–11–02 页面已修订并只进行了有限的<a href="DocumentationEditorialReview.html">编辑审查</a>
</span></li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-UXML.html"></a></span><div class="tip">UXML 格式</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-LoadingUXMLcsharp.html"></a></span><div class="tip">Loading UXML from C#</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2019 Unity Technologies. Publication 2019.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
